<project name="vortex lineage sqlxmlast" basedir=".">
    <property name="repo" location="C:/Users/cs79en/.m2/repository"/>
    <property name="antlr" location="${repo}/com/ing/vortex/parsers/antlr"/>
    <taskdef name="sqlxmlast" classname="com.ing.vortex.parsers.antlr.SqlXmlAstAntTask">
        <classpath>
            <pathelement location="${antlr}/plsql/1.0-SNAPSHOT/plsql-1.0-SNAPSHOT.jar"/>
            <pathelement location="${antlr}/tsql/1.0-SNAPSHOT/tsql-1.0-SNAPSHOT.jar"/>
            <pathelement location="${antlr}/ant-task/1.0-SNAPSHOT/ant-task-1.0-SNAPSHOT.jar"/>
            <pathelement location="${repo}/org/antlr/antlr4-runtime/4.7.1/antlr4-runtime-4.7.1.jar"/>
            <pathelement location="${repo}/commons-lang/commons-lang/2.5/commons-lang-2.5.jar"/>
            <pathelement location="${repo}/org/glassfish/jaxb/txw2/2.2.11/txw2-2.2.11.jar"/>
        </classpath>
    </taskdef>
    <macrodef name="sql2ast">
        <attribute name="dir" default="NOT SET"/>
        <sequential>
            <sqlxmlast basedir="${vortex-oracle-central}" destdir="${build.ast}"
                failOnTransformationError="false">
                <include name="@{dir}/**/*.sql"/>
            </sqlxmlast>
        </sequential>
    </macrodef>
    <property name="saxon.class.path" value="lib/saxon-9.1.0.8j.jar"/>
    <macrodef name="ast2tidy">
        <attribute name="dir" default="NOT SET"/>
        <sequential>
            <xslt extension=".xml" basedir="${build.ast}" destdir="${build.cleanup-syntax}"
                style="src/xml/stylesheets/cleanup-syntax.xslt" failOnTransformationError="false">
                <factory name="net.sf.saxon.TransformerFactoryImpl"/>
                <classpath location="${saxon.class.path}"/>
                <include name="@{dir}/**/*.xml"/>
            </xslt>
        </sequential>
    </macrodef>
    <macrodef name="tidy2html">
        <attribute name="dir" default="NOT SET"/>
        <sequential>
            <xslt extension=".html" basedir="${build.cleanup-syntax}" destdir="${build.html}"
                style="src/xml/stylesheets/tidy2html.xslt" failOnTransformationError="false">
                <factory name="net.sf.saxon.TransformerFactoryImpl"/>
                <classpath location="${saxon.class.path}"/>
                <include name="@{dir}/**/*.xml"/>
            </xslt>
        </sequential>
    </macrodef> 
</project>
